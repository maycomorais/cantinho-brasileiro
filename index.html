<!DOCTYPE html>
<html lang="es-PY">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a7a2e">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Cantinho Brasileiro">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" sizes="180x180" href="img/apple-touch-icon.png">
    <title>Cantinho Brasileiro - Restaurante e Pizzaria</title>
    <!-- Open Graph / WhatsApp / Facebook -->
    <meta property="og:type"        content="website">
    <meta property="og:url"         content="https://cantinho-brasileiro.com.py/">
    <meta property="og:title"       content="Cantinho Brasileiro ğŸ•">
    <meta property="og:description" content="Pedi tu pizza y comida favorita con entrega rÃ¡pida">
    <meta property="og:image"       content="https://files.menudino.com/merchants/0643ce70-ba76-4ae1-b5b8-06373cc01c75/logo.png">
    <meta property="og:image:width"  content="1200">
    <meta property="og:image:height" content="630">
    <!-- Twitter Card -->
    <meta name="twitter:card"        content="summary_large_image">
    <meta name="twitter:title"       content="Cantinho Brasileiro ğŸ•">
    <meta name="twitter:description" content="Pedi tu pizza y comida favorita con entrega rÃ¡pida">
    <meta name="twitter:image"       content="https://files.menudino.com/merchants/0643ce70-ba76-4ae1-b5b8-06373cc01c75/logo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon-16x16.png">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="translations.js"></script>
<base target="_blank">
</head>
<body>
    <header class="app-header sticky">
        <div class="header-content">
            <div class="logo-area">
                <img src="https://media.bio.site/sites/79CC2018-24E6-48C4-A856-4C1E36908B60/AWwTtFWnmuqVysXARE2MRX.png" alt="Logo">
                <div class="store-details">
                    <h1>Cantinho Brasileiro</h1>
                    <span class="badge-status open" data-lang-key="header-aberto">Abierto</span>
                </div>
            </div>
            <div class="language-selector" style="position:absolute; top:15px; right:15px; z-index:1000;">
    <button id="btn-idioma" onclick="toggleLanguageMenu()" style="background:rgba(255,255,255,0.95); border:2px solid var(--primary); padding:8px 15px; border-radius:8px; cursor:pointer; display:flex; align-items:center; gap:8px; font-weight:600; color:#333; box-shadow:0 2px 8px rgba(0,0,0,0.1);">
        <span id="current-lang-flag">ğŸ‡µğŸ‡¾</span>
        <span id="current-lang-code" style="font-size:0.9rem;">ES</span>
        <i class="fas fa-chevron-down" style="font-size:0.7rem;"></i>
    </button>
    
    <div id="language-menu" style="display:none; position:absolute; top:calc(100% + 8px); right:0; background:white; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.15); min-width:200px; overflow:hidden; z-index:1001;">
        <button onclick="changeLanguage('es')" style="width:100%; text-align:left; padding:12px 15px; border:none; background:none; cursor:pointer; display:flex; align-items:center; gap:12px; transition:all 0.2s;">
            <span style="font-size:1.5rem">ğŸ‡µğŸ‡¾</span>
            <div style="flex:1">
                <div style="font-weight:600; color:#333">EspaÃ±ol</div>
                <div style="font-size:0.75rem; color:#999">Paraguay</div>
            </div>
        </button>
        
        <button onclick="changeLanguage('pt')" style="width:100%; text-align:left; padding:12px 15px; border:none; background:none; cursor:pointer; display:flex; align-items:center; gap:12px; transition:all 0.2s;">
            <span style="font-size:1.5rem">ğŸ‡§ğŸ‡·</span>
            <div style="flex:1">
                <div style="font-weight:600; color:#333">PortuguÃªs</div>
                <div style="font-size:0.75rem; color:#999">Brasil</div>
            </div>
        </button>
        
        <button onclick="changeLanguage('en')" style="width:100%; text-align:left; padding:12px 15px; border:none; background:none; cursor:pointer; display:flex; align-items:center; gap:12px; transition:all 0.2s;">
            <span style="font-size:1.5rem">ğŸ‡ºğŸ‡¸</span>
            <div style="flex:1">
                <div style="font-weight:600; color:#333">English</div>
                <div style="font-size:0.75rem; color:#999">United States</div>
            </div>
        </button>
        
        <button onclick="changeLanguage('de')" style="width:100%; text-align:left; padding:12px 15px; border:none; background:none; cursor:pointer; display:flex; align-items:center; gap:12px; transition:all 0.2s;">
            <span style="font-size:1.5rem">ğŸ‡©ğŸ‡ª</span>
            <div style="flex:1">
                <div style="font-weight:600; color:#333">Deutsch</div>
                <div style="font-size:0.75rem; color:#999">Deutschland</div>
            </div>
        </button>
    </div>
</div>

<!-- CSS para o seletor de idioma -->
<style>
#language-menu button:hover {
    background: #f8f9fa !important;
}

@media (max-width: 768px) {
    .language-selector {
        top: 10px;
        right: 10px;
    }
    #btn-idioma {
        padding: 6px 10px !important;
        font-size: 0.9rem;
    }
}
</style>

<!-- CSS para o botÃ£o de idioma -->
<style>
.lang-option:hover {
    background: #f8f9fa !important;
}

.lang-option:active {
    transform: scale(0.98);
}

.btn-language:hover {
    background: white !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

@media (max-width: 768px) {
    .language-selector {
        top: 10px;
        right: 10px;
    }
    
    .btn-language {
        padding: 6px 10px !important;
        font-size: 0.9rem;
    }
}
</style>

<!-- JavaScript para o botÃ£o de idioma -->
<script>
const _langData = {
    es: { flag: 'ğŸ‡µğŸ‡¾', code: 'ES' },
    pt: { flag: 'ğŸ‡§ğŸ‡·', code: 'PT' },
    en: { flag: 'ğŸ‡ºğŸ‡¸', code: 'EN' },
    de: { flag: 'ğŸ‡©ğŸ‡ª', code: 'DE' }
};

function toggleLanguageMenu() {
    const menu = document.getElementById('language-menu');
    if (menu) menu.style.display = menu.style.display === 'none' ? 'block' : 'none';
}

// Mapeamento de traduÃ§Ãµes dos textos visÃ­veis da interface
const _traducoes = {
    es: {
        'header-aberto':     'Abierto',
        'header-fechado':    'Cerrado',
        'track-title':       'ğŸšš Rastrear Pedido',
        'track-placeholder': 'NÃºmero del pedido',
        'track-btn':         'Buscar',
        'track-outro':       'Rastrear Otro Pedido',
        'cart-title':        'Mi Pedido',
        'cart-empty':        'Tu carrito estÃ¡ vacÃ­o',
        'cart-empty-sub':    'Agrega items del menÃº',
        'btn-delivery':      'ğŸ›µ Delivery',
        'btn-retirada':      'ğŸƒ Retiro',
        'btn-balcao':        'ğŸª BalcÃ³n',
        'checkout-title':    'Finalizar Pedido',
        'label-nome':        'Nombre Completo *',
        'label-zap':         'WhatsApp *',
        'label-end':         'DirecciÃ³n de Entrega *',
        'label-ref':         'Punto de Referencia',
        'label-pag':         'Forma de Pago *',
        'btn-finalizar':     'âœ… Confirmar Pedido',
        'label-cupom':       'CupÃ³n de Descuento',
        'btn-limpar':        'Limpiar',
        'modal-obs':         'Â¿Alguna observaciÃ³n?',
        'modal-obs-ph':      'Ej: Sin cebollÃ­n, SalmÃ³n MaÃ§aricado, Capricha en la salsa...',
        'modal-add':         'Agregar',
        'ultimo-pedido':     'Ãšltimo Pedido',
        'ultimo-pedido-sub': 'Â¿Te gustÃ³? Â¡Pide de nuevo!',
        'btn-repetir':       'Agregar Todo al Carrito',
        'btn-calcular':      'ğŸ“ Calcular EnvÃ­o (Obligatorio)',
        'frete-msg':         'Calculando...',
        'gps-erro-titulo':   'Â¿GPS no funcionÃ³?',
        'gps-erro-texto':    'Â¡Sin problemas! Marca la opciÃ³n abajo para combinar el valor de la entrega por WhatsApp.',
        'gps-erro-check':    'EnviarÃ© mi ubicaciÃ³n por WhatsApp',
        'forma-pag':         'Seleccione la forma de pago...',
        'pag-dinheiro':      'Efectivo (GuaranÃ­es)',
        'pag-cartao':        'Tarjeta de CrÃ©dito/DÃ©bito',
        'pag-pix':           'Pix (BR)',
        'pag-transfer':      'Transferencia / Alias (PY)',
        'label-troco':       'Â¿CuÃ¡nto vuelto necesitas?',
        'label-factura':     'Necesito Factura',
        'label-ruc':         'RUC o CI',
        'label-razao':       'RazÃ³n Social',
        'subtotal':          'Subtotal',
        'delivery':          'EnvÃ­o',
        'desconto':          'Descuento',
        'total':             'Total',
        'turbine':           'Bebidas & Extras',
        'como-receber':      'Â¿CÃ³mo desea recibir?',
        'entrega':           'Entrega',
        'retiro':            'Retiro',
        'seus-dados':        'Sus Datos',
        'pagamento':         'Pago'
    },
    pt: {
        'header-aberto':     'Aberto',
        'header-fechado':    'Fechado',
        'track-title':       'ğŸšš Rastrear Pedido',
        'track-placeholder': 'NÃºmero do pedido',
        'track-btn':         'Buscar',
        'track-outro':       'Rastrear Outro Pedido',
        'cart-title':        'Meu Pedido',
        'cart-empty':        'Seu carrinho estÃ¡ vazio',
        'cart-empty-sub':    'Adicione itens do menu',
        'btn-delivery':      'ğŸ›µ Delivery',
        'btn-retirada':      'ğŸƒ Retirada',
        'btn-balcao':        'ğŸª BalcÃ£o',
        'checkout-title':    'Finalizar Pedido',
        'label-nome':        'Nome Completo *',
        'label-zap':         'WhatsApp *',
        'label-end':         'EndereÃ§o de Entrega *',
        'label-ref':         'Ponto de ReferÃªncia',
        'label-pag':         'Forma de Pagamento *',
        'btn-finalizar':     'âœ… Confirmar Pedido',
        'label-cupom':       'Cupom de Desconto',
        'btn-limpar':        'Limpar',
        'modal-obs':         'Alguma observaÃ§Ã£o?',
        'modal-obs-ph':      'Ex: Sem cebolinha, SalmÃ£o MaÃ§aricado, Capricha no molho...',
        'modal-add':         'Adicionar',
        'ultimo-pedido':     'Ãšltimo Pedido',
        'ultimo-pedido-sub': 'Gostou? PeÃ§a de novo!',
        'btn-repetir':       'Adicionar Tudo ao Carrinho',
        'btn-calcular':      'ğŸ“ Calcular Frete (ObrigatÃ³rio)',
        'frete-msg':         'Calculando...',
        'gps-erro-titulo':   'GPS nÃ£o funcionou?',
        'gps-erro-texto':    'Sem problemas! Marque a opÃ§Ã£o abaixo para combinar o valor da entrega pelo WhatsApp.',
        'gps-erro-check':    'Vou enviar minha localizaÃ§Ã£o pelo WhatsApp',
        'forma-pag':         'Selecione a forma de pagamento...',
        'pag-dinheiro':      'Dinheiro (Guaranis)',
        'pag-cartao':        'CartÃ£o de CrÃ©dito/DÃ©bito',
        'pag-pix':           'Pix (BR)',
        'pag-transfer':      'TransferÃªncia / Alias (PY)',
        'label-troco':       'Troco para quanto?',
        'label-factura':     'Preciso de Nota Fiscal',
        'label-ruc':         'RUC ou CI',
        'label-razao':       'RazÃ£o Social',
        'subtotal':          'Subtotal',
        'delivery':          'Entrega',
        'desconto':          'Desconto',
        'total':             'Total',
        'turbine':           'Bebidas & Extras',
        'como-receber':      'Como deseja receber?',
        'entrega':           'Entrega',
        'retiro':            'Retirada',
        'seus-dados':        'Seus Dados',
        'pagamento':         'Pagamento'
    },
    en: {
        'header-aberto':     'Open',
        'header-fechado':    'Closed',
        'track-title':       'ğŸšš Track Order',
        'track-placeholder': 'Order number',
        'track-btn':         'Search',
        'track-outro':       'Track Another Order',
        'cart-title':        'My Order',
        'cart-empty':        'Your cart is empty',
        'cart-empty-sub':    'Add items from the menu',
        'btn-delivery':      'ğŸ›µ Delivery',
        'btn-retirada':      'ğŸƒ Pickup',
        'btn-balcao':        'ğŸª Counter',
        'checkout-title':    'Checkout',
        'label-nome':        'Full Name *',
        'label-zap':         'WhatsApp *',
        'label-end':         'Delivery Address *',
        'label-ref':         'Reference Point',
        'label-pag':         'Payment Method *',
        'btn-finalizar':     'âœ… Place Order',
        'label-cupom':       'Discount Coupon',
        'btn-limpar':        'Clear',
        'modal-obs':         'Any observations?',
        'modal-obs-ph':      'Ex: No green onions, Grilled Salmon, Extra sauce...',
        'modal-add':         'Add',
        'ultimo-pedido':     'Last Order',
        'ultimo-pedido-sub': 'Liked it? Order again!',
        'btn-repetir':       'Add Everything to Cart',
        'btn-calcular':      'ğŸ“ Calculate Delivery (Required)',
        'frete-msg':         'Calculating...',
        'gps-erro-titulo':   'GPS did not work?',
        'gps-erro-texto':    'No problem! Check the option below to arrange delivery fee via WhatsApp.',
        'gps-erro-check':    'I will send my location via WhatsApp',
        'forma-pag':         'Select payment method...',
        'pag-dinheiro':      'Cash (Guaranies)',
        'pag-cartao':        'Credit/Debit Card',
        'pag-pix':           'Pix (BR)',
        'pag-transfer':      'Transfer / Alias (PY)',
        'label-troco':       'Change for how much?',
        'label-factura':     'I need an Invoice',
        'label-ruc':         'RUC or ID',
        'label-razao':       'Business Name',
        'subtotal':          'Subtotal',
        'delivery':          'Delivery',
        'desconto':          'Discount',
        'total':             'Total',
        'turbine':           'Drinks & Extras',
        'como-receber':      'How would you like to receive?',
        'entrega':           'Delivery',
        'retiro':            'Pickup',
        'seus-dados':        'Your Information',
        'pagamento':         'Payment'
    },
    de: {
        'header-aberto':     'GeÃ¶ffnet',
        'header-fechado':    'Geschlossen',
        'track-title':       'ğŸšš Bestellung verfolgen',
        'track-placeholder': 'Bestellnummer',
        'track-btn':         'Suchen',
        'track-outro':       'Andere Bestellung verfolgen',
        'cart-title':        'Meine Bestellung',
        'cart-empty':        'Ihr Warenkorb ist leer',
        'cart-empty-sub':    'FÃ¼gen Sie Artikel aus dem MenÃ¼ hinzu',
        'btn-delivery':      'ğŸ›µ Lieferung',
        'btn-retirada':      'ğŸƒ Abholung',
        'btn-balcao':        'ğŸª Theke',
        'checkout-title':    'Bestellung abschlieÃŸen',
        'label-nome':        'VollstÃ¤ndiger Name *',
        'label-zap':         'WhatsApp *',
        'label-end':         'Lieferadresse *',
        'label-ref':         'Referenzpunkt',
        'label-pag':         'Zahlungsmethode *',
        'btn-finalizar':     'âœ… Bestellen',
        'label-cupom':       'Rabattcoupon',
        'btn-limpar':        'LÃ¶schen',
        'modal-obs':         'Anmerkungen?',
        'modal-obs-ph':      'Z.B.: Ohne FrÃ¼hlingszwiebeln, Gegrillter Lachs, Extra Sauce...',
        'modal-add':         'HinzufÃ¼gen',
        'ultimo-pedido':     'Letzte Bestellung',
        'ultimo-pedido-sub': 'Hat es Ihnen gefallen? Bestellen Sie erneut!',
        'btn-repetir':       'Alles in den Warenkorb legen',
        'btn-calcular':      'ğŸ“ Lieferung berechnen (Erforderlich)',
        'frete-msg':         'Berechnung...',
        'gps-erro-titulo':   'GPS hat nicht funktioniert?',
        'gps-erro-texto':    'Kein Problem! Aktivieren Sie die Option unten, um die LiefergebÃ¼hr per WhatsApp zu vereinbaren.',
        'gps-erro-check':    'Ich sende meinen Standort per WhatsApp',
        'forma-pag':         'Zahlungsmethode wÃ¤hlen...',
        'pag-dinheiro':      'Bargeld (Guaranies)',
        'pag-cartao':        'Kredit-/Debitkarte',
        'pag-pix':           'Pix (BR)',
        'pag-transfer':      'Ãœberweisung / Alias (PY)',
        'label-troco':       'Wechselgeld fÃ¼r wie viel?',
        'label-factura':     'Ich brauche eine Rechnung',
        'label-ruc':         'RUC oder ID',
        'label-razao':       'Firmenname',
        'subtotal':          'Zwischensumme',
        'delivery':          'Lieferung',
        'desconto':          'Rabatt',
        'total':             'Gesamt',
        'turbine':           'GetrÃ¤nke & Extras',
        'como-receber':      'Wie mÃ¶chten Sie erhalten?',
        'entrega':           'Lieferung',
        'retiro':            'Abholung',
        'seus-dados':        'Ihre Daten',
        'pagamento':         'Zahlung'
    }
};

function _aplicarIdioma(lang) {
    const t = _traducoes[lang] || _traducoes['es'];
    
    // Aplicar por data-lang-key (elementos com esse atributo sÃ£o traduzidos automaticamente)
    document.querySelectorAll('[data-lang-key]').forEach(el => {
        const key = el.getAttribute('data-lang-key');
        if (t[key]) el.textContent = t[key];
    });

    // Elementos com data-lang-key-placeholder
    document.querySelectorAll('[data-lang-key-placeholder]').forEach(el => {
        const key = el.getAttribute('data-lang-key-placeholder');
        if (t[key]) el.placeholder = t[key];
    });
}

function changeLanguage(lang) {
    localStorage.setItem('language', lang);
    const data = _langData[lang] || _langData['es'];
    const flagEl = document.getElementById('current-lang-flag');
    const codeEl = document.getElementById('current-lang-code');
    if (flagEl) flagEl.textContent = data.flag;
    if (codeEl) codeEl.textContent = data.code;
    const menu = document.getElementById('language-menu');
    if (menu) menu.style.display = 'none';

    // 1. Aplica sistema data-i18n do translations.js (se disponÃ­vel)
    if (typeof setLanguage === 'function') setLanguage(lang);
    // 2. Aplica traduÃ§Ãµes diretas dos elementos sem data-i18n
    _aplicarIdioma(lang);
    
    // 3. Atualizar textos dinÃ¢micos do app.js se necessÃ¡rio
    atualizarTextosDinamicos(lang);
}

// Atualiza textos que sÃ£o inseridos dinamicamente pelo JavaScript
function atualizarTextosDinamicos(lang) {
    const t = _traducoes[lang] || _traducoes['es'];
    
    // Atualizar botÃ£o flutuante do carrinho
    const cartText = document.querySelector('.cart-text');
    if (cartText) cartText.textContent = t['track-title'] ? t['track-title'].replace('ğŸšš ', '') : 'Ver mi pedido';
    
    // Atualizar placeholders de formulÃ¡rios
    const nomeInput = document.getElementById('cli-nome');
    if (nomeInput && !nomeInput.value) nomeInput.placeholder = 'Ej: Juan PÃ©rez';
    
    const refInput = document.getElementById('cli-ref');
    if (refInput) refInput.placeholder = t['label-ref'] ? t['label-ref'].replace('Punto de Referencia', 'Ej: Casa azul, portÃ³n negro') : 'Punto de Referencia';
}

// Fecha menu ao clicar fora
document.addEventListener('click', (e) => {
    const selector = document.querySelector('.language-selector');
    const menu = document.getElementById('language-menu');
    if (selector && menu && !selector.contains(e.target)) {
        menu.style.display = 'none';
    }
});

// Define idioma inicial ao carregar
window.addEventListener('DOMContentLoaded', () => {
    const savedLang = localStorage.getItem('language') || 'es';
    const data = _langData[savedLang] || _langData['es'];
    const flagEl = document.getElementById('current-lang-flag');
    const codeEl = document.getElementById('current-lang-code');
    if (flagEl) flagEl.textContent = data.flag;
    if (codeEl) codeEl.textContent = data.code;
    
    // Aplica traduÃ§Ãµes imediatamente
    _aplicarIdioma(savedLang);
    
    // Aguarda app.js carregar e aplica novamente
    setTimeout(() => {
        if (typeof setLanguage === 'function') setLanguage(savedLang);
        _aplicarIdioma(savedLang);
    }, 100);
});
</script>
            <div class="header-info">
                <p><i class="fas fa-star" style="color:#fc0;"></i> 4.8</p>
                <p>30-45 min</p>
            </div>
        </div>
    </header>

    <!-- DESKTOP LAYOUT WRAPPER: 2 colunas (menu esquerda + carrinho direita) -->
    <div class="desktop-layout">
    <div class="desktop-left">

    <div class="banner-area">
        <div class="banner-track">
            <img src="https://images.unsplash.com/photo-1579871494447-9811cf80d66c?w=800&q=80" 
                 onclick="clicarBanner(1)" 
                 style="cursor:pointer">
            
            <img src="https://images.unsplash.com/photo-1553621042-f6e147245754?w=800&q=80" 
                 onclick="clicarBanner(2)" 
                 style="cursor:pointer">
        </div>
    </div>

    <nav class="category-nav" id="category-nav"></nav>

    <!-- ===== RASTREADOR DE PEDIDO (CARD FIXO) ===== -->
    <div id="track-order-card" style="display: none; margin: 20px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; border-radius: 16px; box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3); color: white;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
            <h3 style="margin: 0; font-size: 1.1rem; display: flex; align-items: center; gap: 8px;" data-lang-key="track-title">
                <i class="fas fa-shipping-fast"></i> Rastrear Pedido
            </h3>
            <button onclick="fecharCardTracking()" style="background: rgba(255,255,255,0.2); border: none; width: 32px; height: 32px; border-radius: 50%; color: white; cursor: pointer; font-size: 1.2rem;">Ã—</button>
        </div>
        
        <!-- FormulÃ¡rio de busca -->
        <div id="track-form" style="display: block;">
            <p style="margin: 0 0 12px 0; font-size: 0.9rem; opacity: 0.9;">Ingrese el nÃºmero de su pedido para seguirlo:</p>
            <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                <input type="number" id="track-pedido-input" data-lang-key-placeholder="track-placeholder" placeholder="Ej: 81" style="flex: 1; min-width: 80px; padding: 12px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600;">
                <button onclick="buscarPedido()" style="padding: 12px 16px; background: white; color: #667eea; border: none; border-radius: 8px; font-weight: 700; cursor: pointer; white-space: nowrap; flex-shrink: 0;" data-lang-key="track-btn">
                    <i class="fas fa-search"></i> Buscar
                </button>
            </div>
        </div>
        
        <!-- Resultado do tracking -->
        <div id="track-result" style="display: none;">
            <div style="background: rgba(255,255,255,0.15); padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <span id="track-icon" style="font-size: 2rem;">ğŸ“¦</span>
                    <div style="flex: 1;">
                        <div style="font-size: 0.8rem; opacity: 0.8;">Pedido #<span id="track-numero">-</span></div>
                        <div id="track-status-msg" style="font-weight: 700; font-size: 1.05rem;">Cargando...</div>
                    </div>
                </div>
                
                <!-- Barra de progresso -->
                <div style="display: flex; gap: 4px; margin-top: 12px;">
                    <div id="track-step-1" class="track-step">ğŸ“¥</div>
                    <div id="track-step-2" class="track-step">ğŸ”¥</div>
                    <div id="track-step-3" class="track-step">ğŸ›µ</div>
                    <div id="track-step-4" class="track-step">âœ…</div>
                </div>
            </div>
            
            <!-- Info do motoboy (aparece quando sair para entrega) -->
            <div id="track-motoboy-info" style="display: none; background: rgba(255,255,255,0.95); color: #333; padding: 12px; border-radius: 10px;">
                <div style="font-weight: 700; font-size: 0.9rem; margin-bottom: 6px; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-motorcycle" style="color: var(--primary);"></i>
                    <span>SaliÃ³ para Entrega</span>
                </div>
                <div style="font-size: 0.85rem; line-height: 1.6;">
                    <strong>Motoboy:</strong> <span id="track-motoboy-nome">-</span><br>
                    <strong>Contacto:</strong> <a id="track-motoboy-tel" href="#" style="color: var(--primary); text-decoration: none; font-weight: 600;">-</a>
                </div>
            </div>
            
            <button onclick="voltarBusca()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.2); color: white; border: 1px solid rgba(255,255,255,0.3); border-radius: 8px; font-weight: 600; cursor: pointer; margin-top: 10px;" data-lang-key="track-outro">
                Rastrear Otro Pedido
            </button>
        </div>
    </div>

    <div id="buy-again-container" style="display: none; margin: 20px 20px 0; background: #fff; padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid #eee;">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
            <h3 style="margin:0; font-size:1rem; color:#333;" data-lang-key="ultimo-pedido"><i class="fas fa-history" style="color:var(--primary)"></i> Ãšltimo Pedido</h3>
            <span style="font-size:0.8rem; color:#888;" data-lang-key="ultimo-pedido-sub">Â¿Te gustÃ³? Â¡Pide de nuevo!</span>
        </div>
        
        <ul id="last-order-list" style="list-style:none; padding:0; margin:0 0 15px 0; font-size:0.9rem; color:#555; background:#f9f9f9; padding:10px; border-radius:8px;">
            </ul>

        <button onclick="repetirPedido()" style="width:100%; padding:12px; background:var(--primary); color:white; border:none; border-radius:8px; font-weight:bold; cursor:pointer; display:flex; justify-content:center; align-items:center; gap:8px;" data-lang-key="btn-repetir">
            <i class="fas fa-redo"></i> Agregar Todo al Carrito
        </button>
    </div>

    <main class="menu-container" id="menu-content"></main>

    </div><!-- /desktop-left -->

    <!-- CARRINHO SIDEBAR (visÃ­vel sÃ³ no desktop) -->
    <div class="desktop-right" id="desktop-cart-sidebar">
        <div class="desktop-cart-header">
            <i class="fas fa-shopping-bag"></i> <span data-lang-key="cart-title">Mi Pedido</span>
        </div>
        <div class="desktop-cart-body" id="desktop-cart-body">
            <div class="desktop-cart-empty" id="desktop-cart-empty">
                <i class="fas fa-utensils"></i>
                <div data-lang-key="cart-empty">Tu carrito estÃ¡ vacÃ­o</div>
                <small data-lang-key="cart-empty-sub">Agrega items del menÃº</small>
            </div>
            <div id="desktop-cart-items"></div>
        </div>
        <div class="desktop-cart-total" id="desktop-cart-total-row" style="display:none">
            <span data-lang-key="total">Total</span>
            <span id="desktop-cart-total-val">Gs 0</span>
        </div>
        <button class="desktop-cart-btn" id="desktop-cart-btn" onclick="abrirCheckout()" disabled data-lang-key="checkout-title">
            Finalizar Pedido
        </button>
    </div>

    </div><!-- /desktop-layout -->

    <div class="cart-float" id="cart-bar" onclick="abrirCheckout()">
        <div class="cart-count" id="cart-count">0</div>
        <div class="cart-text" data-lang-key="cart-title">Ver mi pedido</div>
        <div class="cart-total" id="cart-total">Gs 0</div>
    </div>

    <div id="product-modal" class="modal-overlay">
        <div class="modal-bottom-sheet">
            <button class="close-modal" onclick="fecharModalProduto()">Ã—</button>
            
            <div class="modal-header-prod">
                <h3 id="modal-title">Nombre del Producto</h3>
                <p id="modal-desc">DescripciÃ³n...</p>
            </div>

            <div class="modal-scroll-area">
                
                <div id="modal-options" class="options-list"></div>

                <div id="modal-montagem" class="montagem-list" style="display:none;"></div>

                <!-- RESUMO PIZZA (aparece em tempo real) -->
                <div id="pizza-resumo" style="display:none; margin:12px 0; background:#fff8f0; border:1px solid #fde8d0; border-radius:12px; overflow:hidden;"></div>

                <div class="obs-area">
                    <label data-lang-key="modal-obs">Â¿Alguna observaciÃ³n?</label>
                    <textarea id="modal-obs" data-lang-key-placeholder="modal-obs-ph" placeholder="Ej: Sin cebollÃ­n, SalmÃ³n MaÃ§aricado, Capricha en la salsa..."></textarea>
                </div>

            </div>

            <div class="modal-actions">
                <div class="stepper">
                    <button onclick="mudarQtd(-1)">-</button>
                    <span id="modal-qty">1</span>
                    <button onclick="mudarQtd(1)">+</button>
                </div>
                <button class="btn-add" onclick="adicionarDoModal()">
                    <span data-lang-key="modal-add">Agregar</span> <span id="modal-price">Gs 0</span>
                </button>
            </div>
        </div>
    </div>

    <div id="checkout-modal" class="modal-overlay" style="z-index: 200;">
        <div class="modal-bottom-sheet full-height">
            
            <div class="checkout-header">
                <button class="btn-limpar" onclick="limparCarrinho()" data-lang-key="btn-limpar">Limpiar</button>
                <h3 data-lang-key="checkout-title">Finalizar Pedido</h3>
                <button class="btn-fechar" onclick="fecharCheckout()">&times;</button>
            </div>
            
            <div class="checkout-body">
                
                <div id="carrinho-lista" class="cart-items-list"></div>
                
                <!-- CUPOM DE DESCONTO -->
                <div class="cupom-area">
                    <h4 style="margin-bottom:10px; font-size:1rem; color:#333;" data-lang-key="label-cupom">ğŸŸï¸ CupÃ³n de Descuento</h4>
                    <div class="cupom-input-group">
                        <input type="text" id="cupom-codigo" data-lang-key-placeholder="label-cupom" placeholder="Ingrese el cÃ³digo" maxlength="20">
                        <button onclick="aplicarCupom()">Aplicar</button>
                    </div>
                    <div id="cupom-msg"></div>
                </div>
                
                <div class="upsell-area mt-10">
                    <h4 style="margin-bottom:10px; font-size:0.9rem; color:#666;" data-lang-key="turbine">Bebidas & Extras</h4>
                    <div id="lista-upsell" class="scroll-horizontal"></div>
                </div>

                <div class="form-section mt-20">
                    <h4 style="font-size: 1.1rem; color: #2D5A27; margin-bottom: 10px; text-align: center;" data-lang-key="como-receber">
                        <i class="fas fa-hand-point-down"></i> Â¿CÃ³mo desea recibir?
                    </h4>
                    <div class="delivery-toggle">
                        <button id="btn-delivery" class="active" onclick="mudarModoEntrega('delivery')">
                            <i class="fas fa-motorcycle"></i> <span data-lang-key="entrega">Entrega</span>
                        </button>
                        <button id="btn-retirada" onclick="mudarModoEntrega('retirada')">
                            <i class="fas fa-store"></i> <span data-lang-key="retiro">Retiro</span>
                        </button>
                    </div>
                </div>

                <div class="upsell-section">
                    <h4 data-lang-key="turbine">Turbine su pedido ğŸ¥¤</h4>
                    <div id="upsell-list" class="upsell-scroller"></div>
                </div>

                <div class="form-section">
                    <h4 data-lang-key="seus-dados">Sus Datos</h4>
                    <label style="font-size: 0.8rem; color: #666;" data-lang-key="label-nome">Nombre Completo</label>
                    <input type="text" id="cli-nome" placeholder="Ej: Juan PÃ©rez" class="input-field">
                    <span id="erro-nome" class="msg-erro-texto">El nombre es obligatorio</span>
                    
                    <label style="font-size: 0.8rem; color: #666;" data-lang-key="label-zap">WhatsApp</label>
                    <div class="row">
                        <select id="cli-ddi" class="input-field small">
                            <option value="+595">ğŸ‡µğŸ‡¾ +595 (PY)</option>
                            <option value="+55">ğŸ‡§ğŸ‡· +55 (BR)</option>
                            <option value="+54">ğŸ‡¦ğŸ‡· +54 (AR)</option>
                            <option value="+591">ğŸ‡§ğŸ‡´ +591 (BO)</option>
                            <option value="+56">ğŸ‡¨ğŸ‡± +56 (CL)</option>
                            <option value="+57">ğŸ‡¨ğŸ‡´ +57 (CO)</option>
                            <option value="+593">ğŸ‡ªğŸ‡¨ +593 (EC)</option>
                            <option value="+592">ğŸ‡¬ğŸ‡¾ +592 (GY)</option>
                            <option value="+51">ğŸ‡µğŸ‡ª +51 (PE)</option>
                            <option value="+598">ğŸ‡ºğŸ‡¾ +598 (UY)</option>
                            <option value="+58">ğŸ‡»ğŸ‡ª +58 (VE)</option>
                        </select>
                        <input type="tel" id="cli-tel" placeholder="99123-4567" class="input-field">
                        <span id="erro-tel" class="msg-erro-texto">El telÃ©fono es obligatorio</span>
                    </div>
                </div>

                <div class="form-section" id="box-endereco">
                    <h4 data-lang-key="label-end">DirecciÃ³n de Entrega</h4>
                    <button id="btn-gps" onclick="calcularFrete()" class="btn-gps" data-lang-key="btn-calcular">
                        <i class="fas fa-map-marker-alt"></i> Calcular EnvÃ­o (Obligatorio)
                    </button>
                    <div id="frete-msg" class="frete-info"></div>

                    <div id="box-erro-gps" style="display:none; background:#fff3cd; color:#856404; padding:10px; border:1px solid #ffeeba; border-radius:5px; margin-top:10px; font-size:0.9rem;">
                        <p><strong><i class="fas fa-info-circle"></i> <span data-lang-key="gps-erro-titulo">Â¿GPS no funcionÃ³?</span></strong></p>
                        <p data-lang-key="gps-erro-texto">Â¡Sin problemas! Marca la opciÃ³n abajo para combinar el valor de la entrega por WhatsApp.</p>
                        
                        <label style="display:flex; align-items:center; gap:10px; margin-top:5px; cursor:pointer;">
                            <input type="checkbox" id="check-sem-gps" style="width:20px; height:20px;">
                            <span data-lang-key="gps-erro-check">EnviarÃ© mi ubicaciÃ³n por WhatsApp</span>
                        </label>
                    </div>

                    <input type="text" id="cli-ref" data-lang-key-placeholder="label-ref" placeholder="Punto de Referencia (Ej: Casa azul, portÃ³n negro)" class="input-field mt-10">
                </div>

                <div class="form-section">
                    <h4 data-lang-key="pagamento">Pago</h4>
                        <select id="forma-pag" class="input-field" onchange="verificarPagamento()">
                            <option value="" data-lang-key="forma-pag">Seleccione la forma de pago...</option>
                            <option value="Efetivo" data-lang-key="pag-dinheiro">Efectivo (GuaranÃ­es)</option>
                            <option value="Cartao" data-lang-key="pag-cartao">Tarjeta de CrÃ©dito/DÃ©bito</option>
                            <option value="Pix" data-lang-key="pag-pix">Pix (BR)</option>
                            <option value="Transferencia" data-lang-key="pag-transfer">Transferencia / Alias (PY)</option>
                        </select>

                        <div id="info-pagamento-extra" class="payment-info-box" style="display:none;"></div>

                        <div id="box-troco" class="hidden mt-10">
                            <label style="font-size: 0.8rem;" data-lang-key="label-troco">Â¿CuÃ¡nto vuelto necesitas?</label>
                            <input type="text" id="troco-valor" placeholder="Ej: 100.000" class="input-field">
                        </div>

                    <div class="row-check mt-10" style="display:flex; align-items:center; gap:10px; padding: 10px; background: #f9f9f9; border-radius: 8px;">
                        <input type="checkbox" id="check-factura" onchange="toggleFactura()" style="width: 20px; height: 20px;">
                        <label for="check-factura" style="font-weight: 600;" data-lang-key="label-factura">Necesito Factura</label>
                    </div>
                    <div id="box-ruc" class="hidden mt-10">
                        <input type="text" id="cli-ruc" data-lang-key-placeholder="label-ruc" placeholder="RUC o CI" class="input-field">
                        <input type="text" id="cli-zao" data-lang-key-placeholder="label-razao" placeholder="RazÃ³n Social" class="input-field mt-10">
                    </div>
                </div>

            </div>

            <div class="checkout-footer">
                <div id="total-final-checkout" style="width:100%; padding: 15px 0;">
                    <!-- SerÃ¡ preenchido dinamicamente pelo JavaScript -->
                </div>
                <button class="btn-finish" onclick="enviarZap()" data-lang-key="btn-finalizar">
                    Confirmar Pedido <i class="fab fa-whatsapp"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- ===== TRACKING DE PEDIDO ===== -->
    <!-- ===== RODAPÃ‰ ===== -->
    <footer style="background:#2c3e50; color:#ecf0f1; text-align:center; padding:20px 10px; margin-top:40px; font-size:0.9rem;">
        <p style="margin:0 0 5px 0;">ğŸ’¼ Desarrollado por <strong>MyM Developer's</strong></p>
        <p style="margin:0; font-size:0.85rem;">
            <i class="fab fa-whatsapp"></i> WhatsApp: 
            <a href="https://wa.me/595982808985" target="_blank" style="color:#25D366; text-decoration:none; font-weight:600;">
                +595 976 771 714
            </a>
        </p>
        <p style="margin:10px 0 0 0; font-size:0.75rem; color:#95a5a6;">
            Soluciones tecnolÃ³gicas para restaurantes y servicios de entrega.
        </p>
    </footer>

    <!-- ===== BANNER DE INSTALAÃ‡ÃƒO PWA ===== -->
    <div id="pwa-install-banner" style="display:none; position:fixed; bottom:0; left:0; right:0; background:linear-gradient(135deg, #1a7a2e 0%, #145f23 100%); color:white; padding:15px 20px; z-index:1000; box-shadow:0 -4px 20px rgba(0,0,0,0.2);">
        <div style="display:flex; align-items:center; justify-content:space-between; max-width:600px; margin:0 auto;">
            <div style="display:flex; align-items:center; gap:15px;">
                <img src="https://media.bio.site/sites/79CC2018-24E6-48C4-A856-4C1E36908B60/AWwTtFWnmuqVysXARE2MRX.png" style="width:45px; height:45px; border-radius:10px; background:white; padding:3px;">
                <div>
                    <div style="font-weight:700; font-size:1rem;">ğŸ“² Instalar Cantinho Brasileiro</div>
                    <div style="font-size:0.85rem; opacity:0.9;">Accede mÃ¡s rÃ¡pido desde tu pantalla de inicio</div>
                </div>
            </div>
            <div style="display:flex; gap:10px;">
                <button onclick="dismissPWAInstall()" style="background:rgba(255,255,255,0.2); border:none; color:white; padding:10px 15px; border-radius:8px; font-weight:600; cursor:pointer;">Ahora no</button>
                <button onclick="installPWA()" style="background:white; border:none; color:#1a7a2e; padding:10px 20px; border-radius:8px; font-weight:700; cursor:pointer;">Instalar</button>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="supabaseClient.js"></script>
    <script src="app.js"></script>
    <script>
        // Registro do Service Worker para PWA
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(() => {});
        }
        
        // ===== PWA INSTALL PROMPT =====
        let deferredPrompt;
        const pwaBanner = document.getElementById('pwa-install-banner');
        
        // Captura o evento beforeinstallprompt
        window.addEventListener('beforeinstallprompt', (e) => {
            // Previne o prompt padrÃ£o do Chrome
            e.preventDefault();
            // Guarda o evento para usar depois
            deferredPrompt = e;
            // Mostra o banner customizado
            if (pwaBanner) {
                pwaBanner.style.display = 'block';
            }
        });
        
        // FunÃ§Ã£o para instalar o PWA
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('âœ… UsuÃ¡rio instalou o PWA');
                    } else {
                        console.log('âŒ UsuÃ¡rio recusou a instalaÃ§Ã£o');
                    }
                    deferredPrompt = null;
                    if (pwaBanner) pwaBanner.style.display = 'none';
                });
            }
        }
        
        // FunÃ§Ã£o para dispensar o banner
        function dismissPWAInstall() {
            if (pwaBanner) pwaBanner.style.display = 'none';
            // Salva no localStorage para nÃ£o mostrar novamente por 7 dias
            localStorage.setItem('pwa_dismissed', Date.now().toString());
        }
        
        // Verifica se o usuÃ¡rio jÃ¡ dispensou o banner recentemente
        window.addEventListener('DOMContentLoaded', () => {
            const dismissed = localStorage.getItem('pwa_dismissed');
            if (dismissed) {
                const daysSince = (Date.now() - parseInt(dismissed)) / (1000 * 60 * 60 * 24);
                if (daysSince < 7) {
                    // NÃ£o mostra o banner se foi dispensado hÃ¡ menos de 7 dias
                    if (pwaBanner) pwaBanner.style.display = 'none';
                }
            }
        });
        
        // Detecta quando o app Ã© instalado
        window.addEventListener('appinstalled', () => {
            console.log('ğŸ‰ PWA instalado com sucesso!');
            if (pwaBanner) pwaBanner.style.display = 'none';
            deferredPrompt = null;
        });
    </script>
</body>
</html>