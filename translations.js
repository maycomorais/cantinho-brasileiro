const translations = {
    // ===== ESPANHOL (PARAGUAI) - IDIOMA PADRÃO =====
    es: {
        // Header
        open: "Abierto",
        closed: "Cerrado",
        rating: "calificación",
        delivery_time: "30-45 min",
        
        // Banner
        promotion_of_day: "Promoción del Día",
        
        // Categorias
        categories: "Categorías",
        
        // Produtos
        add_to_cart: "Agregar al Carrito",
        price: "Precio",
        
        // Carrinho
        my_order: "Ver mi pedido",
        cart: "Carrito",
        empty_cart: "Carrito vacío",
        clear_cart: "Limpiar",
        subtotal: "Subtotal",
        delivery_fee: "Envío",
        discount: "Descuento",
        total: "Total",
        
        // Cupom
        discount_coupon: "Cupón de Descuento",
        enter_code: "Ingrese el código",
        apply: "Aplicar",
        coupon_applied: "✅ Cupón aplicado",
        invalid_coupon: "❌ Cupón inválido",
        minimum_value: "Valor mínimo",
        
        // Checkout
        finalize_order: "Finalizar Pedido",
        how_receive: "¿Cómo desea recibir?",
        delivery: "Delivery",
        pickup: "Retiro",
        your_data: "Sus Datos",
        full_name: "Nombre Completo",
        whatsapp: "WhatsApp",
        delivery_address: "Dirección de Entrega",
        calculate_delivery: "Calcular Envío (Obligatorio)",
        reference_point: "Punto de Referencia",
        payment: "Pago",
        select_payment: "Seleccione la forma de pago...",
        cash: "Efectivo (Guaraníes)",
        card: "Tarjeta de Crédito/Débito",
        pix: "Pix (BR)",
        transfer: "Transferencia / Alias (PY)",
        change_for: "¿Cuánto vuelto necesita?",
        need_invoice: "Necesito Factura",
        confirm_order: "Confirmar Pedido",
        
        // Tracking
        awaiting_confirmation: "Aguardando confirmación...",
        received: "Recibido",
        preparing: "En preparación",
        out_delivery: "Salió para entrega",
        delivered: "Entregado",
        confirm_delivery: "Confirmar Entrega",
        delivery_confirmed: "¡Entrega confirmada!",
        
        // Modal Produto
        observations: "¿Alguna observación?",
        quantity: "Cantidad",
        
        // Mensagens
        location_ok: "✅ Ubicación OK",
        distance: "Distancia",
        fill_required: "Complete los campos obligatorios",
        order_sent: "¡Pedido enviado con éxito!",
        
        // Rodapé
        developed_by: "Sistema desarrollado por",
        tech_solutions: "Soluciones en tecnología para restaurantes y delivery",
        
        // Admin
        admin_panel: "Panel Administrativo",
        orders: "Pedidos",
        kitchen: "Cocina",
        products: "Productos",
        categories_admin: "Categorías",
        delivery_drivers: "Motoqueros",
        financial: "Financiero",
        settings: "Configuraciones",
        logout: "Salir",
        
        // Status
        pending: "Pendiente",
        confirmed: "Confirmado",
        ready_delivery: "Listo para Entrega",
        cancelled: "Cancelado",
        
        // Botões
        save: "Guardar",
        cancel: "Cancelar",
        edit: "Editar",
        delete: "Eliminar",
        close: "Cerrar",
        confirm: "Confirmar",
        yes: "Sí",
        no: "No"
    },
    
    // ===== PORTUGUÊS (BRASIL) =====
    pt: {
        // Header
        open: "Aberto",
        closed: "Fechado",
        rating: "avaliação",
        delivery_time: "30-45 min",
        
        // Banner
        promotion_of_day: "Promoção do Dia",
        
        // Categorias
        categories: "Categorias",
        
        // Produtos
        add_to_cart: "Adicionar ao Carrinho",
        price: "Preço",
        
        // Carrinho
        my_order: "Ver meu pedido",
        cart: "Carrinho",
        empty_cart: "Carrinho vazio",
        clear_cart: "Limpar",
        subtotal: "Subtotal",
        delivery_fee: "Entrega",
        discount: "Desconto",
        total: "Total",
        
        // Cupom
        discount_coupon: "Cupom de Desconto",
        enter_code: "Digite o código",
        apply: "Aplicar",
        coupon_applied: "✅ Cupom aplicado",
        invalid_coupon: "❌ Cupom inválido",
        minimum_value: "Valor mínimo",
        
        // Checkout
        finalize_order: "Finalizar Pedido",
        how_receive: "Como deseja receber?",
        delivery: "Entrega",
        pickup: "Retirada",
        your_data: "Seus Dados",
        full_name: "Nome Completo",
        whatsapp: "WhatsApp",
        delivery_address: "Endereço de Entrega",
        calculate_delivery: "Calcular Frete (Obrigatório)",
        reference_point: "Ponto de Referência",
        payment: "Pagamento",
        select_payment: "Selecione a forma de pagamento...",
        cash: "Dinheiro (Guaranis)",
        card: "Cartão de Crédito/Débito",
        pix: "Pix (BR)",
        transfer: "Transferência / Alias (PY)",
        change_for: "Troco para quanto?",
        need_invoice: "Preciso de Nota Fiscal",
        confirm_order: "Confirmar Pedido",
        
        // Tracking
        awaiting_confirmation: "Aguardando confirmação...",
        received: "Recebido",
        preparing: "Preparando",
        out_delivery: "Saiu para entrega",
        delivered: "Entregue",
        confirm_delivery: "Confirmar Entrega",
        delivery_confirmed: "Entrega confirmada!",
        
        // Modal Produto
        observations: "Alguma observação?",
        quantity: "Quantidade",
        
        // Mensagens
        location_ok: "✅ Localização OK",
        distance: "Distância",
        fill_required: "Preencha os campos obrigatórios",
        order_sent: "Pedido enviado com sucesso!",
        
        // Rodapé
        developed_by: "Sistema desenvolvido por",
        tech_solutions: "Soluções em tecnologia para restaurantes e delivery",
        
        // Admin
        admin_panel: "Painel Administrativo",
        orders: "Pedidos",
        kitchen: "Cozinha",
        products: "Produtos",
        categories_admin: "Categorias",
        delivery_drivers: "Motoboys",
        financial: "Financeiro",
        settings: "Configurações",
        logout: "Sair",
        
        // Status
        pending: "Pendente",
        confirmed: "Confirmado",
        ready_delivery: "Pronto para Entrega",
        cancelled: "Cancelado",
        
        // Botões
        save: "Salvar",
        cancel: "Cancelar",
        edit: "Editar",
        delete: "Deletar",
        close: "Fechar",
        confirm: "Confirmar",
        yes: "Sim",
        no: "Não"
    },
    
    // ===== INGLÊS (EUA) =====
    en: {
        // Header
        open: "Open",
        closed: "Closed",
        rating: "rating",
        delivery_time: "30-45 min",
        
        // Banner
        promotion_of_day: "Deal of the Day",
        
        // Categorias
        categories: "Categories",
        
        // Produtos
        add_to_cart: "Add to Cart",
        price: "Price",
        
        // Carrinho
        my_order: "View my order",
        cart: "Cart",
        empty_cart: "Empty cart",
        clear_cart: "Clear",
        subtotal: "Subtotal",
        delivery_fee: "Delivery",
        discount: "Discount",
        total: "Total",
        
        // Cupom
        discount_coupon: "Discount Coupon",
        enter_code: "Enter code",
        apply: "Apply",
        coupon_applied: "✅ Coupon applied",
        invalid_coupon: "❌ Invalid coupon",
        minimum_value: "Minimum value",
        
        // Checkout
        finalize_order: "Checkout",
        how_receive: "How would you like to receive?",
        delivery: "Delivery",
        pickup: "Pickup",
        your_data: "Your Information",
        full_name: "Full Name",
        whatsapp: "WhatsApp",
        delivery_address: "Delivery Address",
        calculate_delivery: "Calculate Delivery (Required)",
        reference_point: "Reference Point",
        payment: "Payment",
        select_payment: "Select payment method...",
        cash: "Cash (Guaranies)",
        card: "Credit/Debit Card",
        pix: "Pix (BR)",
        transfer: "Transfer / Alias (PY)",
        change_for: "Change for how much?",
        need_invoice: "I need an Invoice",
        confirm_order: "Confirm Order",
        
        // Tracking
        awaiting_confirmation: "Awaiting confirmation...",
        received: "Received",
        preparing: "Preparing",
        out_delivery: "Out for delivery",
        delivered: "Delivered",
        confirm_delivery: "Confirm Delivery",
        delivery_confirmed: "Delivery confirmed!",
        
        // Modal Produto
        observations: "Any observations?",
        quantity: "Quantity",
        
        // Mensagens
        location_ok: "✅ Location OK",
        distance: "Distance",
        fill_required: "Fill in required fields",
        order_sent: "Order sent successfully!",
        
        // Rodapé
        developed_by: "System developed by",
        tech_solutions: "Technology solutions for restaurants and delivery",
        
        // Admin
        admin_panel: "Admin Panel",
        orders: "Orders",
        kitchen: "Kitchen",
        products: "Products",
        categories_admin: "Categories",
        delivery_drivers: "Drivers",
        financial: "Financial",
        settings: "Settings",
        logout: "Logout",
        
        // Status
        pending: "Pending",
        confirmed: "Confirmed",
        ready_delivery: "Ready for Delivery",
        cancelled: "Cancelled",
        
        // Botões
        save: "Save",
        cancel: "Cancel",
        edit: "Edit",
        delete: "Delete",
        close: "Close",
        confirm: "Confirm",
        yes: "Yes",
        no: "No"
    },
    
    // ===== ALEMÃO =====
    de: {
        // Header
        open: "Geöffnet",
        closed: "Geschlossen",
        rating: "Bewertung",
        delivery_time: "30-45 Min",
        
        // Banner
        promotion_of_day: "Angebot des Tages",
        
        // Categorias
        categories: "Kategorien",
        
        // Produtos
        add_to_cart: "In den Warenkorb",
        price: "Preis",
        
        // Carrinho
        my_order: "Meine Bestellung ansehen",
        cart: "Warenkorb",
        empty_cart: "Warenkorb leer",
        clear_cart: "Löschen",
        subtotal: "Zwischensumme",
        delivery_fee: "Lieferung",
        discount: "Rabatt",
        total: "Gesamt",
        
        // Cupom
        discount_coupon: "Rabattgutschein",
        enter_code: "Code eingeben",
        apply: "Anwenden",
        coupon_applied: "✅ Gutschein angewendet",
        invalid_coupon: "❌ Ungültiger Gutschein",
        minimum_value: "Mindestwert",
        
        // Checkout
        finalize_order: "Bestellung abschließen",
        how_receive: "Wie möchten Sie erhalten?",
        delivery: "Lieferung",
        pickup: "Abholung",
        your_data: "Ihre Daten",
        full_name: "Vollständiger Name",
        whatsapp: "WhatsApp",
        delivery_address: "Lieferadresse",
        calculate_delivery: "Lieferung berechnen (Erforderlich)",
        reference_point: "Referenzpunkt",
        payment: "Zahlung",
        select_payment: "Zahlungsmethode wählen...",
        cash: "Bargeld (Guaranies)",
        card: "Kredit-/Debitkarte",
        pix: "Pix (BR)",
        transfer: "Überweisung / Alias (PY)",
        change_for: "Wechselgeld für wie viel?",
        need_invoice: "Ich brauche eine Rechnung",
        confirm_order: "Bestellung bestätigen",
        
        // Tracking
        awaiting_confirmation: "Warten auf Bestätigung...",
        received: "Empfangen",
        preparing: "In Vorbereitung",
        out_delivery: "Unterwegs",
        delivered: "Geliefert",
        confirm_delivery: "Lieferung bestätigen",
        delivery_confirmed: "Lieferung bestätigt!",
        
        // Modal Produto
        observations: "Anmerkungen?",
        quantity: "Menge",
        
        // Mensagens
        location_ok: "✅ Standort OK",
        distance: "Entfernung",
        fill_required: "Pflichtfelder ausfüllen",
        order_sent: "Bestellung erfolgreich gesendet!",
        
        // Rodapé
        developed_by: "System entwickelt von",
        tech_solutions: "Technologielösungen für Restaurants und Lieferung",
        
        // Admin
        admin_panel: "Admin-Panel",
        orders: "Bestellungen",
        kitchen: "Küche",
        products: "Produkte",
        categories_admin: "Kategorien",
        delivery_drivers: "Fahrer",
        financial: "Finanzen",
        settings: "Einstellungen",
        logout: "Abmelden",
        
        // Status
        pending: "Ausstehend",
        confirmed: "Bestätigt",
        ready_delivery: "Bereit zur Lieferung",
        cancelled: "Storniert",
        
        // Botões
        save: "Speichern",
        cancel: "Abbrechen",
        edit: "Bearbeiten",
        delete: "Löschen",
        close: "Schließen",
        confirm: "Bestätigen",
        yes: "Ja",
        no: "Nein"
    }
};

// Função para obter idioma atual
function getCurrentLanguage() {
    return localStorage.getItem('language') || 'es'; // Espanhol é padrão
}

// Função para trocar idioma
function setLanguage(lang) {
    if (!translations[lang]) {
        console.error('Idioma não suportado:', lang);
        return;
    }
    localStorage.setItem('language', lang);
    updatePageLanguage();
}

// Função para obter tradução
function t(key) {
    const lang = getCurrentLanguage();
    return translations[lang][key] || key;
}

// Função para atualizar toda a página
function updatePageLanguage() {
    const lang = getCurrentLanguage();
    
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) {
            if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                el.placeholder = translations[lang][key];
            } else {
                el.textContent = translations[lang][key];
            }
        }
    });
    
    // Atualizar título da página se existir
    const pageTitle = document.querySelector('[data-i18n-title]');
    if (pageTitle) {
        const key = pageTitle.getAttribute('data-i18n-title');
        if (translations[lang][key]) {
            document.title = translations[lang][key];
        }
    }
    
    // Atualizar opções de select
    document.querySelectorAll('select[data-i18n-options] option').forEach(opt => {
        const key = opt.getAttribute('data-i18n');
        if (key && translations[lang][key]) {
            opt.textContent = translations[lang][key];
        }
    });
}

// Inicializar ao carregar página
document.addEventListener('DOMContentLoaded', () => {
    // Aplica o idioma atual imediatamente
    updatePageLanguage();
});